<div class="page page-dashboard">

	<!--a href="#!/presupuestos" type="button" class="btn btn-warning btn-sm">
		<span class="glyphicon glyphicon-arrow-left"></span>
	</a-->
	<span style="float: right;">
		<button type="button" class="btn btn-danger btn-sm" ng-click="refresca()">
			<span class="glyphicon glyphicon-refresh"></span>
		</button>
	</span>

<!-- tabla recalls de gesden -->

	<div class="panel panel-default">
		<div class="panel-heading">
			<strong><span class="glyphicon glyphicon-th"></span><span data-i18n=" Seguimiento de Presupuestos Gesden"></span></strong>
			<!--button type="button" class="btn btn-success btn-sm" data-ng-click="sendMailRecalls()"><span class="glyphicon glyphicon-envelope"></button-->
		</div>
		<div class="panel-body">
			<div ng-hide="recalls"><i class="fa fa-spinner fa-spin"></i> Cargando datos...</div>
			<table class="table table-condensed">
				<thead>
					<tr>
						<th>&nbsp;</th>
						<th>Fecha</th>
						<th>Notas</th>
						<th>Paciente</th>
						<th>Telefono</th>
						<th>&nbsp;</th>
					</tr>
				</thead>
				<tbody>
					<tr data-ng-repeat="ppto in listarecallsGD track by $index">
						<td width="1%" id="{{ppto.color}}">&nbsp;</td>
						<td width="10%">{{ppto.FecFin | date:'dd-MM-YYYY'}}</td>
						<td>
							<div>{{ppto.NotasM}}</div>
							<!--div><span class="label label-info" ng-repeat="presu in ppto.presus">{{presu.tto}}</div-->
						</td>
						<td width="25%">
							<a type="button" class="btn btn-info btn-xs" href="#!/listaRecalls/{{ppto.NumPac}}/{{ppto.Nombre}} {{ppto.Apellidos}}">
								<span class="glyphicon glyphicon-play"></span>
							</a>
							{{ppto.Nombre}} {{ppto.Apellidos}}
						</td>
						<td>{{ppto.TelMovil}}</td>

						<td>
							<button type="button" class="btn btn-success btn-sm" data-ng-click="aceptaRecalldeHoyGD(ppto)" >
								<span class="glyphicon glyphicon-ok"></span>
							</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

<!-- tabla -->

<!-- tabla -->

	<div class="panel panel-default">
		<div class="panel-heading">
			<strong><span class="glyphicon glyphicon-th"></span><span data-i18n=" Recalls de Presupuestos"></span></strong>
			<!--button type="button" class="btn btn-success btn-sm" data-ng-click="sendMailRecalls()"><span class="glyphicon glyphicon-envelope"></button-->
		</div>
		<div class="panel-body">
			<div ng-hide="listarecalls"><i class="fa fa-spinner fa-spin"></i> Cargando datos...</div>
			<table class="table table-condensed">
				<thead>
					<tr>
						<th>&nbsp;</th>
						<th>Fecha</th>
						<th>Notas</th>
						<th>Paciente</th>
						<th>Telefono</th>
						<th>&nbsp;</th>
					</tr>
				</thead>
				<tbody>
					<tr data-ng-repeat="ppto in listarecalls track by $index">
						<td width="1%" id="{{ppto.color}}">&nbsp;</td>
						<td width="10%">{{ppto.data | date:'dd-MM-yyyy'}}</td>
						<td>
							<div>{{ppto.notas}}</div>
							<!--div><span class="label label-info" ng-repeat="presu in ppto.presus">{{presu.tto}}</div-->
						</td>
						<td width="25%">
							<a type="button" class="btn btn-info btn-xs" href="#!/listaRecalls/{{ppto.NumPac}}/{{ppto.nom}}">
								<span class="glyphicon glyphicon-play"></span>
							</a>
							{{ppto.pacient}}
						</td>
						<td>{{ppto.telefon}}</td>

						<td>
							<button type="button" class="btn btn-success btn-sm" data-ng-click="aceptaRecalldeHoy(ppto)" data-ng-show="ppto.estat">
								<span class="glyphicon glyphicon-ok"></span>
							</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

<!-- tabla -->

<!-- tabla SMS No -->

	<div class="panel panel-default">
		<div class="panel-heading">
			<strong><span class="glyphicon glyphicon-th"></span><span data-i18n=" Fallos de citas SMS"></span></strong>
		</div>
		<div class="panel-body">
			<div ng-hide="citas"><i class="fa fa-spinner fa-spin"></i> Cargando datos...</div>
			<table ng-show="citas" class="table" table-condensed>
				<thead>
					<tr>
						<th>box</th>
						<th>fecha</th>
						<th>hora</th>
						<th>movil</th>
						<th>status</th>
						<th>paciente</th>
						<th>respuesta</th>
						<th>&nbsp;</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="i in citas"  ng-class="{'bg-danger': i.viene == 0,  'bg-success': i.viene == 1 || i.confirmado == 1, 'bg-info': i.status == 'f' }" ng-show="i.reprogramado == 0">
						<td>{{i.box}}<br/>
							<!--small>{{i.idcita}}</small--></td>
						<td>{{i.fecha}}</td>
						<td>{{i.hora}}
							<br>
							<button class="btn-icon-round btn-icon-round-xs bg-primary" ng-click="llamado(i, $index)"><i class="fa fa-bell"></i></button>	
						</td>
						<td>
							<a ng-href="#!/sms/uno/{{i.movil}}/{{i.paciente}}">{{i.movil}}</a>
							<br>
							<small>{{i.llamado}}</small>
						</td>
						<td>{{i.status}}<span class="glyphicon glyphicon-thumbs-down" ng-hide="i.movil.length == 11"></span></td>
						<td>{{i.paciente}}</td>
						<td>{{i.respuesta_in}}</td>

						<td width="30px">
							<span >&nbsp;</span>
							<button class="btn btn-warning btn-sm" tooltip-placement="top" uib-tooltip="Reprogramado" tooltip-append-to-body="true" ng-click="reprogramado(i, $index)" >
								<span class="glyphicon glyphicon-thumbs-up"></span>
							</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

<!-- tabla -->

<!-- tabla -->

	<div class="panel panel-default">
		<div class="panel-heading">
			<strong><span class="glyphicon glyphicon-th"></span><span> Recalls de Controlde hoy</span></strong>
		</div>
		<div class="panel-body">
			<div ng-hide="recalls6m"><i class="fa fa-spinner fa-spin"></i> Cargando datos...</div>
			<table class="table" table-condensed>
				<thead>
					<tr>
						<th></th>
						<th>Fecha</th>
						<th>Paciente</th>
						<th>Descripcion</th>
						<th>Movil</th>
						<th>Fijo</th>
						<th>Fijo</th>
					</tr>
				</thead>
				<tbody>
					<tr data-ng-repeat="ppto in recalls6m">
						<td  bgcolor="{{ppto.color}}" style="width: 4px;"></td>
						<td>{{ppto.Fecha*1000 | date:"yyyy-MM-dd"}}</td>
						<td><a href="#!/controles/detalles/{{ppto.NumRec}}" class="btn btn-info btn-xs">
							<span class="glyphicon glyphicon-play"></span>
							</a>
							{{ppto.Nombre}} {{ppto.Apellidos}}
							<span ng-show="ppto.IdCentro"> /{{ppto.IdCentro}}/</span></td>
						<td><strong>{{ppto.Descripcio}}</strong><br/>
						{{ppto.Comentario}}</td>
						<td>{{ppto.TelMovil}}</td>
						<td>{{ppto.Tel1}}</td>
						<td>{{ppto.Tel2}}</td>
						<td>
							<button type="button" class="btn btn-success btn-sm" data-ng-click="aceptaRecall(ppto)" data-ng-show="ppto.estat">
								<span class="glyphicon glyphicon-ok"></span>
							</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

<!-- tabla -->

</div>